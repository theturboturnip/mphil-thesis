\chapter{Emulation investigation}
In order to experiment with integrating CHERI and RVV, we implemented a RISC-V emulator in the Rust programming language named \enquote{riscv-v-lite}.
This emulator can emulate three RISC-V ISAs: 
\begin{itemize}
    \item \code{rv32imv} - 32-bit + Integer, Multiply, Vector extensions
    \item \code{rv64imv} - 64-bit + Integer, Multiply, Vector extensions
    \item \code{rv64imvxcheri} - 64-bit + CHERI + Integer, Multiply, Vector extensions
\end{itemize}
Each ISA's vector behaviour is tested with a set of \code{memcpy}-esque testbench programs.
These are written in C, using RISC-V vector intrinsics where possible, and compiled with a variety of C compilers to examine compatibility.
An experimental capabilities-in-vectors concept is also tested.

\cref{chap:software:sec:emu} describes the emulator, focusing on how vector instructions are emulated.
\cref{chap:software:sec:testbench} describes the testbench, the various techniques used to emit vector instructions on different compilers, and the results of each testbench for each architecture and compiler.
\cref{chap:software:sec:capinvec} explains the experiments done with capabilities-in-vectors.

\include{1_25EmulationInvestigation/sub10_emu}
\include{1_25EmulationInvestigation/sub20_testbench}
\include{1_25EmulationInvestigation/sub30_capinvec}